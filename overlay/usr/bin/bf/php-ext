#!/command/with-contenv bash

set -euo pipefail
export BF_E=`basename ${0}`


#======================================================================================================================
# Get PHP extension prefix.
#======================================================================================================================

[[ -z "${1-}" ]] && bf-error "You must pass a PHP extension prefix, e.g. 'php81'." "php-ext"
PREFIX="${1}"


#======================================================================================================================
# Install optional extensions (set by environment variable PHP_EXT).
#======================================================================================================================

A=(${PHP_EXT-})
for EXT in "${A[@]}" ; do
    E="${PREFIX}-${EXT}"
    bf-echo "Installing ${E}..." "php-ext"
    apk add "${E}" 2>&1 > /dev/null
done
